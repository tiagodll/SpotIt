!function(e){var n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=0)}([function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(1),r=o(2);var c;!function(e){const n="BlazorSignalR",o={ServerSentEventsTransport:new t.ServerSentEventsTransport,WebSocketsTransport:new r.WebSocketsTransport};e.initialize=function(){"undefined"==typeof window||window[n]?window[n]=Object.assign({},window[n],o):window[n]=Object.assign({},o)}}(c||(c={})),c.initialize()},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.ServerSentEventsTransport=class{constructor(){this.connections=new Map,this.CreateConnection=((e,n)=>{const o=n.invokeMethod("get_InternalSSEId"),t=n.invokeMethod("get_SSEAccessToken");t&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(t)}`);const r=new EventSource(e,{withCredentials:!0});this.connections.set(o,r),r.onmessage=(e=>{n.invokeMethod("HandleSSEMessage",btoa(e.data))}),r.onerror=(e=>{const o=new Error(e.data||"Error occurred");n.invokeMethod("HandleSSEError",o.message)}),r.onopen=(()=>{n.invokeMethod("HandleSSEOpened")})}),this.CloseConnection=(e=>{const n=e.invokeMethod("get_InternalSSEId"),o=this.connections.get(n);o&&(this.connections.delete(n),o.close())}),this.IsSupported=(()=>"undefined"!=typeof EventSource)}}},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class t{constructor(){this.CreateConnection=((e,n,o)=>{const r=o.invokeMethod("get_InternalWebSocketId"),c=o.invokeMethod("get_WebSocketAccessToken");c&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(c)}`),e=e.replace(/^http/,"ws");const s=new WebSocket(e);t.connections.set(r,s),n&&(s.binaryType="arraybuffer"),s.onopen=(e=>{o.invokeMethod("HandleWebSocketOpened")}),s.onerror=(e=>{const n=e instanceof ErrorEvent?e.error:new Error("Error occured");o.invokeMethod("HandleWebSocketError",n.message)}),s.onmessage=(e=>{o.invokeMethod("HandleWebSocketMessage",btoa(e.data))}),s.onclose=(e=>{o.invokeMethod("HandleWebSocketClosed")})}),this.Send=((e,n)=>{const o=n.invokeMethod("get_InternalWebSocketId"),r=t.connections.get(o);if(!r)throw new Error("Unknown connection");r.send(atob(e))}),this.CloseConnection=(e=>{const n=e.invokeMethod("get_InternalWebSocketId"),o=t.connections.get(n);o&&(t.connections.delete(n),o.onclose=(()=>{}),o.onmessage=(()=>{}),o.onerror=(()=>{}),o.close())}),this.IsSupported=(()=>"undefined"!=typeof WebSocket)}}t.connections=new Map,n.WebSocketsTransport=t}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luaXRpYWxpemVTaWduYWxSLnRzIiwid2VicGFjazovLy8uL3NyYy9TZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0LnRzIiwid2VicGFjazovLy8uL3NyYy9XZWJTb2NrZXRzVHJhbnNwb3J0LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU2VydmVyU2VudEV2ZW50c1RyYW5zcG9ydF8xIiwiV2ViU29ja2V0c1RyYW5zcG9ydF8xIiwiU2lnbmFsUiIsImJsYXpvclNpZ25hbFIiLCJleHRlbnNpb25PYmplY3QiLCJTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0IiwiV2ViU29ja2V0c1RyYW5zcG9ydCIsImluaXRpYWxpemUiLCJ3aW5kb3ciLCJhc3NpZ24iLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwiY29ubmVjdGlvbnMiLCJNYXAiLCJDcmVhdGVDb25uZWN0aW9uIiwidXJsIiwibWFuYWdlZE9iaiIsImlkIiwiaW52b2tlTWV0aG9kIiwidG9rZW4iLCJpbmRleE9mIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXZlbnRTb3VyY2UiLCJFdmVudFNvdXJjZSIsIndpdGhDcmVkZW50aWFscyIsInNldCIsIm9ubWVzc2FnZSIsImUiLCJidG9hIiwiZGF0YSIsIm9uZXJyb3IiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIm9ub3BlbiIsIkNsb3NlQ29ubmVjdGlvbiIsImRlbGV0ZSIsImNsb3NlIiwiSXNTdXBwb3J0ZWQiLCJiaW5hcnkiLCJyZXBsYWNlIiwid2ViU29ja2V0IiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsIl9ldmVudCIsImV2ZW50IiwiRXJyb3JFdmVudCIsIm9uY2xvc2UiLCJTZW5kIiwic2VuZCIsImF0b2IiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FY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LFVBQVksQ0FBQ08sSUFDbkJqQixFQUFXRSxhQUFtQix5QkFBMEJVLEtBQUtLLEVBQVFKLFNBR3pFWSxFQUFVTSxRQUFVLENBQUNGLElBQ2pCN0IsRUFBV0UsYUFBbUIsNkJBSS9CUCxLQUFBcUMsS0FBTyxFQUFDbkIsRUFBY2IsS0FDekIsTUFBTUMsRUFBS0QsRUFBV0UsYUFBcUIsMkJBQ3JDdUIsRUFBWW5DLEVBQW9CTSxZQUFZL0IsSUFBSW9DLEdBRXRELElBQUt3QixFQUNELE1BQU0sSUFBSVQsTUFBTSxzQkFFcEJTLEVBQVVRLEtBQUtDLEtBQUtyQixNQUdqQmxCLEtBQUF3QixnQkFBa0IsQ0FBQ25CLElBQ3RCLE1BQU1DLEVBQUtELEVBQVdFLGFBQXFCLDJCQUVyQ3VCLEVBQVluQyxFQUFvQk0sWUFBWS9CLElBQUlvQyxHQUVqRHdCLElBR0xuQyxFQUFvQk0sWUFBWXdCLE9BQU9uQixHQUV2Q3dCLEVBQVVNLFFBQVUsU0FDcEJOLEVBQVVmLFVBQVksU0FDdEJlLEVBQVVYLFFBQVUsU0FDcEJXLEVBQVVKLFdBR1AxQixLQUFBMkIsWUFBYyxLQUNXLG9CQUFkSSxZQWhFSHBDLEVBQUFNLFlBQXNDLElBQUlDLElBRDdEL0MsRUFBQXdDIiwiZmlsZSI6ImJsYXpvcnNpZ25hbHIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0IH0gZnJvbSAnLi9TZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0J1xyXG5pbXBvcnQgeyBXZWJTb2NrZXRzVHJhbnNwb3J0IH0gZnJvbSBcIi4vV2ViU29ja2V0c1RyYW5zcG9ydFwiO1xyXG5cclxubmFtZXNwYWNlIFNpZ25hbFIge1xyXG4gICAgY29uc3QgYmxhem9yU2lnbmFsUjogc3RyaW5nID0gJ0JsYXpvclNpZ25hbFInO1xyXG4gICAgLy8gZGVmaW5lIHdoYXQgdGhpcyBleHRlbnNpb24gYWRkcyB0byB0aGUgd2luZG93IG9iamVjdCBpbnNpZGUgQmxhem9yU2lnbmFsUlxyXG4gICAgY29uc3QgZXh0ZW5zaW9uT2JqZWN0ID0ge1xyXG4gICAgICAgIFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQ6IG5ldyBTZXJ2ZXJTZW50RXZlbnRzVHJhbnNwb3J0KCksXHJcbiAgICAgICAgV2ViU29ja2V0c1RyYW5zcG9ydDogbmV3IFdlYlNvY2tldHNUcmFuc3BvcnQoKVxyXG4gICAgfTtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXdpbmRvd1tibGF6b3JTaWduYWxSXSkge1xyXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBsaWJyYXJ5IGlzIGxvYWRlZCBpbiBhIGJyb3dzZXIgdmlhIGEgPHNjcmlwdD4gZWxlbWVudCwgbWFrZSB0aGVcclxuICAgICAgICAgICAgLy8gZm9sbG93aW5nIEFQSXMgYXZhaWxhYmxlIGluIGdsb2JhbCBzY29wZSBmb3IgaW52b2NhdGlvbiBmcm9tIEpTXHJcbiAgICAgICAgICAgIHdpbmRvd1tibGF6b3JTaWduYWxSXSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmV4dGVuc2lvbk9iamVjdFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvd1tibGF6b3JTaWduYWxSXSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLndpbmRvd1tibGF6b3JTaWduYWxSXSxcclxuICAgICAgICAgICAgICAgIC4uLmV4dGVuc2lvbk9iamVjdFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuU2lnbmFsUi5pbml0aWFsaXplKCk7IiwiaW1wb3J0IHsgRG90TmV0UmVmZXJlbmNlVHlwZSB9IGZyb20gJy4vRG90TmV0J1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlcnZlclNlbnRFdmVudHNUcmFuc3BvcnQge1xyXG4gICAgcHJpdmF0ZSBjb25uZWN0aW9uczogTWFwPHN0cmluZywgRXZlbnRTb3VyY2U+ID0gbmV3IE1hcDxzdHJpbmcsIEV2ZW50U291cmNlPigpO1xyXG5cclxuICAgIHB1YmxpYyBDcmVhdGVDb25uZWN0aW9uID0gKHVybDogc3RyaW5nLCBtYW5hZ2VkT2JqOiBEb3ROZXRSZWZlcmVuY2VUeXBlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDxzdHJpbmc+KFwiZ2V0X0ludGVybmFsU1NFSWRcIik7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDxzdHJpbmc+KFwiZ2V0X1NTRUFjY2Vzc1Rva2VuXCIpO1xyXG5cclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPCAwID8gXCI/XCIgOiBcIiZcIikgKyBgYWNjZXNzX3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuKX1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UodXJsLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChpZCwgZXZlbnRTb3VyY2UpO1xyXG5cclxuICAgICAgICBldmVudFNvdXJjZS5vbm1lc3NhZ2UgPSAoZTogTWVzc2FnZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIG1hbmFnZWRPYmouaW52b2tlTWV0aG9kPHZvaWQ+KFwiSGFuZGxlU1NFTWVzc2FnZVwiLCBidG9hKGUuZGF0YSkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGV2ZW50U291cmNlLm9uZXJyb3IgPSAoZTogTWVzc2FnZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGUuZGF0YSB8fCBcIkVycm9yIG9jY3VycmVkXCIpO1xyXG4gICAgICAgICAgICBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDx2b2lkPihcIkhhbmRsZVNTRUVycm9yXCIsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGV2ZW50U291cmNlLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgbWFuYWdlZE9iai5pbnZva2VNZXRob2Q8dm9pZD4oXCJIYW5kbGVTU0VPcGVuZWRcIik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQ2xvc2VDb25uZWN0aW9uID0gKG1hbmFnZWRPYmo6IERvdE5ldFJlZmVyZW5jZVR5cGUpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IG1hbmFnZWRPYmouaW52b2tlTWV0aG9kPHN0cmluZz4oXCJnZXRfSW50ZXJuYWxTU0VJZFwiKTtcclxuXHJcbiAgICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSB0aGlzLmNvbm5lY3Rpb25zLmdldChpZCk7XHJcblxyXG4gICAgICAgIGlmICghZXZlbnRTb3VyY2UpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5kZWxldGUoaWQpO1xyXG5cclxuICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJc1N1cHBvcnRlZCA9ICgpOiBib29sZWFuID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIEV2ZW50U291cmNlICE9PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRG90TmV0UmVmZXJlbmNlVHlwZSB9IGZyb20gJy4vRG90TmV0J1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYlNvY2tldHNUcmFuc3BvcnQge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY29ubmVjdGlvbnM6IE1hcDxzdHJpbmcsIFdlYlNvY2tldD4gPSBuZXcgTWFwPHN0cmluZywgV2ViU29ja2V0PigpO1xyXG5cclxuICAgIHB1YmxpYyBDcmVhdGVDb25uZWN0aW9uID0gKHVybDogc3RyaW5nLCBiaW5hcnk6IGJvb2xlYW4sIG1hbmFnZWRPYmo6IERvdE5ldFJlZmVyZW5jZVR5cGUpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IG1hbmFnZWRPYmouaW52b2tlTWV0aG9kPHN0cmluZz4oXCJnZXRfSW50ZXJuYWxXZWJTb2NrZXRJZFwiKTtcclxuICAgICAgICBjb25zdCB0b2tlbiA9IG1hbmFnZWRPYmouaW52b2tlTWV0aG9kPHN0cmluZz4oXCJnZXRfV2ViU29ja2V0QWNjZXNzVG9rZW5cIik7XHJcblxyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICB1cmwgKz0gKHVybC5pbmRleE9mKFwiP1wiKSA8IDAgPyBcIj9cIiA6IFwiJlwiKSArIGBhY2Nlc3NfdG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodG9rZW4pfWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXmh0dHAvLCBcIndzXCIpO1xyXG5cclxuICAgICAgICBjb25zdCB3ZWJTb2NrZXQgPSBuZXcgV2ViU29ja2V0KHVybCk7XHJcbiAgICAgICAgV2ViU29ja2V0c1RyYW5zcG9ydC5jb25uZWN0aW9ucy5zZXQoaWQsIHdlYlNvY2tldCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJpbmFyeSkge1xyXG4gICAgICAgICAgICB3ZWJTb2NrZXQuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdlYlNvY2tldC5vbm9wZW4gPSAoX2V2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDx2b2lkPihcIkhhbmRsZVdlYlNvY2tldE9wZW5lZFwiKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3ZWJTb2NrZXQub25lcnJvciA9IChldmVudDogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSAoZXZlbnQgaW5zdGFuY2VvZiBFcnJvckV2ZW50KSA/IGV2ZW50LmVycm9yIDogbmV3IEVycm9yKFwiRXJyb3Igb2NjdXJlZFwiKTtcclxuICAgICAgICAgICAgbWFuYWdlZE9iai5pbnZva2VNZXRob2Q8dm9pZD4oXCJIYW5kbGVXZWJTb2NrZXRFcnJvclwiLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3ZWJTb2NrZXQub25tZXNzYWdlID0gKG1lc3NhZ2U6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDx2b2lkPihcIkhhbmRsZVdlYlNvY2tldE1lc3NhZ2VcIiwgYnRvYShtZXNzYWdlLmRhdGEpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB3ZWJTb2NrZXQub25jbG9zZSA9IChldmVudDogQ2xvc2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDx2b2lkPihcIkhhbmRsZVdlYlNvY2tldENsb3NlZFwiKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZW5kID0gKGRhdGE6IHN0cmluZywgbWFuYWdlZE9iajogRG90TmV0UmVmZXJlbmNlVHlwZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gbWFuYWdlZE9iai5pbnZva2VNZXRob2Q8c3RyaW5nPihcImdldF9JbnRlcm5hbFdlYlNvY2tldElkXCIpO1xyXG4gICAgICAgIGNvbnN0IHdlYlNvY2tldCA9IFdlYlNvY2tldHNUcmFuc3BvcnQuY29ubmVjdGlvbnMuZ2V0KGlkKTtcclxuXHJcbiAgICAgICAgaWYgKCF3ZWJTb2NrZXQpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29ubmVjdGlvblwiKTtcclxuXHJcbiAgICAgICAgd2ViU29ja2V0LnNlbmQoYXRvYihkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIENsb3NlQ29ubmVjdGlvbiA9IChtYW5hZ2VkT2JqOiBEb3ROZXRSZWZlcmVuY2VUeXBlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBtYW5hZ2VkT2JqLmludm9rZU1ldGhvZDxzdHJpbmc+KFwiZ2V0X0ludGVybmFsV2ViU29ja2V0SWRcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IHdlYlNvY2tldCA9IFdlYlNvY2tldHNUcmFuc3BvcnQuY29ubmVjdGlvbnMuZ2V0KGlkKTtcclxuXHJcbiAgICAgICAgaWYgKCF3ZWJTb2NrZXQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgV2ViU29ja2V0c1RyYW5zcG9ydC5jb25uZWN0aW9ucy5kZWxldGUoaWQpO1xyXG5cclxuICAgICAgICB3ZWJTb2NrZXQub25jbG9zZSA9ICgpID0+IHt9O1xyXG4gICAgICAgIHdlYlNvY2tldC5vbm1lc3NhZ2UgPSAoKSA9PiB7fTtcclxuICAgICAgICB3ZWJTb2NrZXQub25lcnJvciA9ICgpID0+IHt9O1xyXG4gICAgICAgIHdlYlNvY2tldC5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJc1N1cHBvcnRlZCA9ICgpOiBib29sZWFuID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIFdlYlNvY2tldCAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=